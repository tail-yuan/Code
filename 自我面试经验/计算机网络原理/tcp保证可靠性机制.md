#### TCP保障可靠性

TCP（传输控制协议）通过以下机制来保证可靠性：

1. 序号和确认机制：TCP通过给每个数据包分配一个唯一的序列号，以确保数据包的有序传输。接收方会发送确认（ACK）消息来确认已收到的数据包，并请求发送方继续发送下一个序列号的数据。如果发送方在一定时间内未收到确认消息，它会重新发送数据包。

2. 窗口控制：TCP使用滑动窗口机制来调节发送方和接收方之间的数据传输速度。接收方通过通告窗口大小来告知发送方它当前可接收的数据量。发送方根据接收方的窗口大小来控制发送数据的速率，**避免发送过多的数据导致接收方无法及时处理。**

3. 可靠性重传：TCP使用超时重传机制来确保数据的可靠传输。如果发送方在合理的时间内未收到确认消息，它会认为数据包丢失，并重新发送这些数据包。接收方会检测并丢弃重复的数据包。

4. 拥塞控制：TCP通过拥塞控制算法来**防止网络拥塞并保证可靠性**。当网络拥塞时，TCP会降低发送速率以减轻网络负载，并在网络恢复时逐渐增加发送速率。

5. 校验和：TCP是面向字节流的,如何保证某一段数据能够以规定的顺序在接收缓冲区中整合,以及检测是否出现丢包? 
   1. **TCP使用校验和来检测数据包在传输过程中的错误**。接收方会校验接收到的数据包的校验和，如果校验和错误，则数据包被认为是损坏的，并要求发送方重新发送。


通过这些机制，TCP在不可靠的底层网络之上提供了可靠的传输。它可以保证数据的顺序性、不丢失、不重复和不损坏，从而实现了可靠性传输。然而，这也会带来一些开销，如额外的延迟、带宽消耗和拥塞控制带来的吞吐量降低。