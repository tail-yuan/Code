### 堆排序

堆排序（Heap Sort）是一种基于堆数据结构的排序算法，它通过构建最大堆（或最小堆）来实现排序。最大堆是一种满足父节点大于（或等于）其子节点的特性，最小堆则是满足父节点小于（或等于）其子节点的特性。堆排序的基本思想是将待排序的序列构建成一个最大堆（或最小堆），然后每次取出堆顶元素（最大值或最小值），放入已排序部分的末尾，然后调整堆保持堆的性质，重复这个过程直到堆为空。

以下是堆排序的具体过程：

1. **构建最大堆：** 首先，将待排序的序列构建成一个最大堆。从序列的中间位置开始，向前遍历每一个父节点，对于每一个父节点，通过逐级下沉（sift down）操作，将其调整为最大堆。这个过程保证了父节点始终大于等于其子节点。

2. **取出堆顶元素：** 构建完成后，最大堆的堆顶元素即为序列中的最大值。将堆顶元素取出，放入已排序部分的末尾。

3. **调整堆：** 取出堆顶元素后，需要将最后一个元素放入堆顶，并进行逐级上浮（sift up）或下沉操作，以保持堆的性质。通常，将新元素与其子节点比较，如果不满足堆的性质，就进行上浮或下沉操作，直到堆的性质得到满足。

4. **重复步骤2和3：** 重复执行步骤2和步骤3，直到所有元素都被取出并放入已排序部分。这样，最终得到的已排序部分是一个升序排列的序列。

堆排序的时间复杂度是 O(n log n)，其中 n 是待排序序列的长度。**堆排序是一种不稳定的排序算法，因为在调整堆的过程中可能会改变相同元素的相对位置**。虽然堆排序不如快速排序在大多数情况下效率高，但它适用于需要稳定的排序情况，以及当数据量较大时。